<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Umyum Clicker</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      background: radial-gradient(circle, #fff0f5 0%, #ff80ab 100%);
      overflow-x: hidden;
    }
    h1 {
      text-align: center;
      color: #e91e63;
      margin: 10px 0;
    }
    #news {
      background: #ffe6f0;
      padding: 5px 10px;
      font-weight: bold;
      white-space: nowrap;
      overflow: hidden;
      border-bottom: 2px solid #e91e63;
      position: relative;
    }
    #news span {
      position: absolute;
      animation: scrollNews 15s linear infinite;
    }
    @keyframes scrollNews {
      0% { left: 100%; }
      100% { left: -100%; }
    }

    #tabs {
      display: flex;
      justify-content: center;
      gap: 10px;
      padding: 10px;
      background: #ffeef5;
      border-bottom: 2px solid #e91e63;
    }
    .tab-button {
      padding: 8px 16px;
      border: none;
      background: #f8bbd0;
      color: #880e4f;
      font-weight: bold;
      border-radius: 5px;
      cursor: pointer;
    }
    .tab-button.active {
      background: #e91e63;
      color: white;
    }

    .tab-content {
      display: none;
      padding: 10px;
    }
    .tab-content.active {
      display: block;
    }

    #umyum {
      font-size: 5em;
      cursor: pointer;
      display: block;
      margin: 20px auto;
      transition: transform 0.25s, filter 0.25s;
    }
    #umyum.clicked {
      transform: scale(1.2);
      filter: brightness(1.3);
    }

    .section {
      max-width: 800px;
      margin: auto;
    }

    .upgrade {
      background: #fff0f5;
      border: 1px solid #e91e63;
      border-radius: 10px;
      margin: 10px;
      padding: 10px;
    }

    .candy {
      position: fixed;
      top: -30px;
      width: 30px;
      height: 30px;
      background: none;
      font-size: 24px;
      animation: fall 6s linear forwards;
      z-index: 0;
    }
    @keyframes fall {
      to {
        transform: translateY(110vh);
      }
    }

    #multiplierOverlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 215, 0, 0.2);
      pointer-events: none;
      z-index: 2;
      display: none;
    }

    #bunnyTimer {
      text-align: center;
      font-weight: bold;
      color: #d50000;
      margin-top: 5px;
    }

    .golden-bunny {
      position: fixed;
      z-index: 3;
      font-size: 40px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>Umyum Clicker</h1>
  <div id="news"><span id="newsText">Welcome to Umyum Clicker!</span></div>
  <div id="tabs">
    <button class="tab-button active" data-tab="stats">Stats</button>
    <button class="tab-button" data-tab="upc">UPC Upgrades</button>
    <button class="tab-button" data-tab="ups">UPS Upgrades</button>
    <button class="tab-button" data-tab="res">Resurrection</button>
  </div>
  <div id="multiplierOverlay"></div>

  <div id="main-content" class="section">
    <div id="umyum" onclick="clickUmyum()">üç¨</div>
    <p id="bunnyTimer"></p>

    <div id="stats" class="tab-content active">
      <p><strong>Umyums:</strong> <span id="count">0</span></p>
      <p><strong>Umyums per Click:</strong> <span id="upc">1</span></p>
      <p><strong>Total UPC:</strong> <span id="upcTracker">1</span></p>
      <p><strong>UPS:</strong> <span id="ups">0</span></p>
      <p><strong>Resurrections:</strong> <span id="resCount">0</span></p>
    </div>

    <div id="upc" class="tab-content"></div>
    <div id="ups" class="tab-content"></div>

    <div id="res" class="tab-content">
      <button onclick="tryResurrect()">Bunny Resurrection</button>
    </div>
  </div>

  <script>
    let umyums = 0;
    let clickPower = 1;
    let ups = 0;
    let resurrectionCount = 0;
    let upsMultiplier = 1;
    let upcMultiplier = 1;
    let goldenActive = false;
    let goldenTimer = 0;
    let goldenInterval;

    const newsLines = [
      [1, "You've started your umyum journey!"],
      [500, "The neighborhood wants to try your cookies at the party!"],
      [1000, "Local bake sale features your umyums!"],
      [10000, "You're supplying candy to stores!"],
      [25000, "A candy corporation takes interest!"],
      [50000, "Umyums featured in space snacks!"],
      [100000, "You broke the candy economy!"],
      [1e6, "Your umyums bend the laws of physics!"],
      [1e12, "Your umyums transcend space and time!"]
    ];

    function formatNumber(num) {
      const abbrev = ["", "thousand", "million", "billion", "trillion"];
      let i = 0;
      while (num >= 1000 && i < abbrev.length - 1) {
        num /= 1000;
        i++;
      }
      return num.toFixed(2) + " " + abbrev[i];
    }

    function updateDisplay() {
      document.getElementById("count").textContent = formatNumber(umyums);
      document.getElementById("upc").textContent = (clickPower * upcMultiplier).toFixed(1);
      document.getElementById("upcTracker").textContent = (clickPower * upcMultiplier).toFixed(1);
      document.getElementById("ups").textContent = (ups * upsMultiplier).toFixed(1);
      document.getElementById("resCount").textContent = resurrectionCount;

      for (let i = newsLines.length - 1; i >= 0; i--) {
        if (umyums >= newsLines[i][0]) {
          document.getElementById("newsText").textContent = newsLines[i][1];
          break;
        }
      }
    }

    function clickUmyum() {
      umyums += clickPower * upcMultiplier;
      updateDisplay();
      const umyum = document.getElementById("umyum");
      umyum.classList.add("clicked");
      setTimeout(() => umyum.classList.remove("clicked"), 250);
    }

    function createUpgrade(name, baseCost, isAuto, production) {
      const div = document.createElement("div");
      div.className = "upgrade";
      let count = 0;
      let cost = baseCost;
      const costP = document.createElement("p");
      const ownedP = document.createElement("p");
      const button = document.createElement("button");

      function refresh() {
        costP.textContent = `Cost: ${formatNumber(cost)} Umyums`;
        ownedP.textContent = `Owned: ${count}`;
      }

      button.textContent = "Buy";
      button.onclick = () => {
        if (umyums >= cost) {
          umyums -= cost;
          if (isAuto) ups += production;
          else clickPower += production;
          count++;
          cost *= 1.3;
          refresh();
          updateDisplay();
        }
      };

      div.innerHTML = `<strong>${name}</strong><br>`;
      div.appendChild(costP);
      div.appendChild(ownedP);
      div.appendChild(button);
      refresh();
      document.getElementById(isAuto ? "ups" : "upc").appendChild(div);
    }

    const clickNames = ["Candy Tapper", "Sugar Smash", "Lick Boost", "Sweet Press"];
    const autoNames = ["Candy Machine", "Auto Chewer", "Gumball Gear", "Sugar Synth"];

    clickNames.forEach((name, i) => createUpgrade(name, Math.pow(10, i + 1), false, Math.pow(5, i)));
    autoNames.forEach((name, i) => createUpgrade(name, Math.pow(10, i + 2), true, Math.pow(5, i)));

    setInterval(() => {
      umyums += ups * upsMultiplier;
      updateDisplay();
    }, 1000);

    function spawnCandy() {
      const candy = document.createElement("div");
      candy.className = "candy";
      candy.style.left = Math.random() * window.innerWidth + "px";
      candy.textContent = "üç¨";
      document.body.appendChild(candy);
      setTimeout(() => candy.remove(), 6000);
    }

    setInterval(spawnCandy, 800);

    function spawnGoldenBunny() {
      if (document.querySelector(".golden-bunny")) return;
      const bunny = document.createElement("div");
      bunny.className = "golden-bunny";
      bunny.textContent = "üêá";
      bunny.style.top = Math.random() * (window.innerHeight - 50) + "px";
      bunny.style.left = Math.random() * (window.innerWidth - 50) + "px";
      bunny.onclick = () => {
        upcMultiplier *= 7;
        bunny.remove();
        goldenActive = true;
        document.getElementById("multiplierOverlay").style.display = "block";
        goldenTimer = 60;
        updateGoldenTimer();
        goldenInterval = setInterval(() => {
          goldenTimer--;
          updateGoldenTimer();
          if (goldenTimer <= 0) {
            clearInterval(goldenInterval);
            upcMultiplier /= 7;
            goldenActive = false;
            document.getElementById("multiplierOverlay").style.display = "none";
            document.getElementById("bunnyTimer").textContent = "";
          }
        }, 1000);
      };
      document.body.appendChild(bunny);
    }

    function updateGoldenTimer() {
      document.getElementById("bunnyTimer").textContent = `Golden Bunny: ${goldenTimer}s remaining!`;
    }

    setInterval(() => {
      if (Math.random() < 0.01) spawnGoldenBunny();
    }, 2000);

    function tryResurrect() {
      const cost = 1e6 * Math.pow(2, resurrectionCount);
      if (umyums >= cost) {
        const choice = prompt("Resurrect! Type 'ups' for 2x UPS or 'upc' for 2x UPC:");
        if (choice === "ups") upsMultiplier *= 2;
        else if (choice === "upc") upcMultiplier *= 2;
        umyums = 0;
        ups = 0;
        clickPower = 1;
        resurrectionCount++;
        updateDisplay();
      } else {
        alert(`Need ${formatNumber(cost)} Umyums to resurrect.`);
      }
    }

    // Tab Switching
    document.querySelectorAll(".tab-button").forEach(btn => {
      btn.onclick = () => {
        document.querySelectorAll(".tab-button").forEach(b => b.classList.remove("active"));
        document.querySelectorAll(".tab-content").forEach(tab => tab.classList.remove("active"));
        btn.classList.add("active");
        document.getElementById(btn.dataset.tab).classList.add("active");
      };
    });

    updateDisplay();
  </script>
</body>
</html>
