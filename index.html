<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Umyum Clicker</title>
  <style>
    body {
      margin: 0;
      font-family: 'Comic Sans MS', cursive;
      background: url('file-E3dgR7tnqMCunzQ1zBtE8f') repeat;
      background-size: cover;
      color: #fff;
      display: flex;
      overflow: hidden;
    }
    .sidebar {
      width: 300px;
      background-color: rgba(0, 0, 0, 0.5);
      padding: 10px;
      overflow-y: auto;
      height: 100vh;
    }
    .main {
      flex-grow: 1;
      padding: 20px;
      text-align: center;
      position: relative;
    }
    .umyum {
      width: 200px;
      cursor: pointer;
    }
    .upgrade {
      margin: 10px 0;
      padding: 10px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      cursor: pointer;
    }
    #bunny {
      position: absolute;
      top: 100px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 64px;
      cursor: pointer;
      display: none;
    }
    #timerBar {
      width: 100%;
      height: 5px;
      background: gold;
      position: absolute;
      top: 0;
      left: 0;
      display: none;
    }
    .golden-hue {
      filter: hue-rotate(45deg) brightness(1.2);
    }
  </style>
</head>
<body>
  <div class="sidebar" id="upgrades"></div>
  <div class="main" id="main">
    <div id="timerBar"></div>
    <h1>Umyum Clicker</h1>
    <img src="umyum.png" class="umyum" id="umyum" alt="Umyum">
    <p><strong>Umyums:</strong> <span id="count">0</span></p>
    <p><strong>UPS:</strong> <span id="ups">0.0</span></p>
    <p><strong>UPC:</strong> <span id="upc">1.0</span></p>
    <p><strong>Resurrections:</strong> <span id="resurrections">0</span></p>
    <div id="bunny">üê∞</div>
  </div>
  <script>
    let umyums = 0;
    let clickPower = 1;
    let ups = 0;
    let upsMultiplier = 1;
    let upcMultiplier = 1;
    let resurrectionCount = 0;
    let bunnyTimeout;

    const upgrades = [
      { name: "Candy Tapper", baseCost: 10, type: "click", effect: 1, quantity: 0 },
      { name: "Sugar Machine", baseCost: 100, type: "auto", effect: 0.1, quantity: 0 },
      { name: "Lollipop Miner", baseCost: 1000, type: "auto", effect: 1, quantity: 0 },
      { name: "Chocolate Stream", baseCost: 10000, type: "auto", effect: 5, quantity: 0 },
      { name: "Caramel Cauldron", baseCost: 100000, type: "click", effect: 10, quantity: 0 },
      { name: "Syrup Refinery", baseCost: 1000000, type: "auto", effect: 50, quantity: 0 },
      { name: "Sugarcane Fields", baseCost: 10000000, type: "auto", effect: 200, quantity: 0 },
      { name: "Gummy Lab", baseCost: 100000000, type: "click", effect: 100, quantity: 0 },
      { name: "Marshmallow Forge", baseCost: 1000000000, type: "auto", effect: 1000, quantity: 0 },
      { name: "Bunny Universe", baseCost: 10000000000, type: "auto", effect: 5000, quantity: 0 }
    ];

    function formatNumber(num) {
      const units = ["", " thousand", " million", " billion", " trillion", " quadrillion", " quintillion", " sextillion"];
      if (num < 1000000) return num.toLocaleString();
      let unitIndex = Math.floor(Math.log10(num) / 3);
      let unitValue = Math.pow(10, unitIndex * 3);
      let scaled = num / unitValue;
      return scaled.toFixed(3) + units[unitIndex];
    }

    function updateDisplay() {
      document.getElementById('count').textContent = formatNumber(umyums);
      document.getElementById('ups').textContent = (ups * upsMultiplier).toFixed(1);
      document.getElementById('upc').textContent = (clickPower * upcMultiplier).toFixed(1);
      document.getElementById('resurrections').textContent = resurrectionCount;
    }

    function generateUpgradeList() {
      const container = document.getElementById('upgrades');
      container.innerHTML = '';
      upgrades.forEach((upg, index) => {
        const cost = upg.baseCost * Math.pow(1.3, upg.quantity);
        const upgradeDiv = document.createElement('div');
        upgradeDiv.className = 'upgrade';
        upgradeDiv.textContent = `${upg.name} (${formatNumber(cost)}) [${upg.quantity}]`;
        upgradeDiv.onclick = () => buyUpgrade(index);
        container.appendChild(upgradeDiv);
      });
    }

    function buyUpgrade(index) {
      const upgrade = upgrades[index];
      const cost = upgrade.baseCost * Math.pow(1.3, upgrade.quantity);
      if (umyums >= cost) {
        umyums -= cost;
        upgrade.quantity++;
        if (upgrade.type === "click") clickPower += upgrade.effect;
        else if (upgrade.type === "auto") ups += upgrade.effect;
        updateDisplay();
        generateUpgradeList();
      }
    }

    function spawnBunny() {
      const bunny = document.getElementById('bunny');
      bunny.textContent = Math.random() < 0.5 ? 'üêá' : 'üê∞';
      bunny.style.display = 'block';
      setTimeout(() => bunny.style.display = 'none', 5000);
    }

    document.getElementById('bunny').addEventListener('click', () => {
      document.getElementById('main').classList.add('golden-hue');
      upsMultiplier *= 7;
      upcMultiplier *= 7;
      document.getElementById('bunny').style.display = 'none';
      document.getElementById('timerBar').style.display = 'block';
      document.getElementById('timerBar').style.width = '100%';

      let time = 60;
      const interval = setInterval(() => {
        time--;
        document.getElementById('timerBar').style.width = `${(time / 60) * 100}%`;
        if (time <= 0) {
          clearInterval(interval);
          upsMultiplier /= 7;
          upcMultiplier /= 7;
          document.getElementById('main').classList.remove('golden-hue');
          document.getElementById('timerBar').style.display = 'none';
        }
      }, 1000);
    });

    document.getElementById('umyum').addEventListener('click', () => {
      umyums += clickPower * upcMultiplier;
      updateDisplay();
    });

    setInterval(() => {
      umyums += ups * upsMultiplier;
      updateDisplay();
    }, 1000);

    setInterval(spawnBunny, Math.random() * 120000 + 180000); // every 3‚Äì5 mins

    generateUpgradeList();
    updateDisplay();
  </script>
</body>
</html>
