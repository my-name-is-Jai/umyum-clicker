<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Umyum Clicker</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      background: radial-gradient(circle, #ffd6e8 0%, #ffeff7 80%);
      overflow-x: hidden;
    }
    h1 {
      text-align: center;
      color: #e91e63;
    }
    #newsTicker {
      position: fixed;
      top: 0;
      width: 100%;
      background: #ffe0ec;
      color: #d81b60;
      white-space: nowrap;
      overflow: hidden;
      z-index: 10;
    }
    #newsText {
      display: inline-block;
      padding-left: 100%;
      animation: scrollLeft 20s linear infinite;
    }
    @keyframes scrollLeft {
      from { transform: translateX(0); }
      to { transform: translateX(-100%); }
    }
    #main-content {
      display: flex;
      justify-content: space-between;
      height: calc(100vh - 100px);
      padding: 10px;
      margin-top: 30px;
    }
    #umyum {
      font-size: 5em;
      cursor: pointer;
      display: block;
      margin: 20px auto;
      transition: transform 0.25s, filter 0.25s;
    }
    #umyum.clicked {
      transform: scale(1.1);
      filter: brightness(1.2);
    }
    #stats {
      text-align: center;
      flex-grow: 1;
    }
    #sidebar {
      width: 300px;
      background: #fff0f5;
      border-left: 2px solid #e91e63;
      padding: 10px;
      overflow-y: auto;
      height: 100%;
    }
    .upgrade, .ups {
      border: 1px solid #e91e63;
      padding: 10px;
      margin: 10px 0;
      border-radius: 8px;
      background: #fff;
    }
    button {
      background: #e91e63;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover {
      background: #c2185b;
    }
    .lollipop {
      position: absolute;
      width: 60px;
      cursor: pointer;
      z-index: 11;
    }
    #multiplierOverlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 215, 0, 0.2);
      z-index: 9;
      pointer-events: none;
      display: none;
    }
    #candyContainer {
      position: fixed;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      pointer-events: none;
      z-index: 0;
    }
    .candy {
      position: absolute;
      top: -50px;
      width: 30px;
      height: 30px;
      text-align: center;
      animation: fall 5s linear forwards;
    }
    @keyframes fall {
      to {
        transform: translateY(110vh);
      }
    }
  </style>
</head>
<body>
  <div id="newsTicker"><div id="newsText"></div></div>
  <h1>Umyum Clicker</h1>
  <div id="multiplierOverlay"></div>
  <div id="candyContainer"></div>
  <div id="main-content">
    <div id="stats">
      <div id="umyum" onclick="clickUmyum()">üç¨</div>
      <p><strong>Umyums:</strong> <span id="count">0</span></p>
      <p><strong>Umyums per Click:</strong> <span id="upc">1.0 Umyums/click</span></p>
      <p><strong>UPS:</strong> <span id="ups">0.0 Umyums/sec</span></p>
      <p><strong>Total Umyums per Click:</strong> <span id="upcTracker">1.0 Umyums/click</span></p>
      <p><strong>Resurrections:</strong> <span id="resurrections">0</span></p>
      <button onclick="tryResurrect()">Bunny Resurrection</button>
      <div id="multiplierTimer"></div>
    </div>
    <div id="sidebar">
      <h2>Click Upgrades</h2>
      <div id="clickUpgrades"></div>
      <h2>Auto Umyums</h2>
      <div id="autoUpgrades"></div>
    </div>
  </div>
  <script>
    let umyums = 0;
    let ups = 0;
    let clickPower = 1;
    let resurrectionCount = 0;
    let upcMultiplier = 1;
    let upsMultiplier = 1;
    let multiplierTimer = null;

    const newsLines = [
      [1, "You made your first Umyum!"],
      [500, "The neighborhood wants to try your cookies at the party!"],
      [1000, "Umyums featured in a local newspaper!"],
      [10000, "A Umyum startup wants to sponsor you!"],
      [25000, "People are camping outside to try Umyums!"],
      [50000, "Umyums going intercontinental!"],
      [100000, "World leaders are discussing Umyum economy!"],
      [1e6, "You hit one million! Sweet milestone!"],
      [1e12, "Your Umyums transcend space and time!"]
    ];

    function formatNumber(num) {
      if (num < 1e6) return Math.round(num).toString();
      const units = ["million", "billion", "trillion", "quadrillion", "quintillion"];
      let unitIndex = -1;
      while (num >= 1000 && unitIndex < units.length - 1) {
        num /= 1000;
        unitIndex++;
      }
      return num.toFixed(2) + " " + units[unitIndex];
    }

    function clickUmyum() {
      umyums += clickPower * upcMultiplier;
      const umyumEl = document.getElementById("umyum");
      umyumEl.classList.add("clicked");
      setTimeout(() => umyumEl.classList.remove("clicked"), 250);
      updateDisplay();
    }

    function updateDisplay() {
      document.getElementById("count").textContent = formatNumber(umyums);
      document.getElementById("ups").textContent = (ups * upsMultiplier).toFixed(1) + " Umyums/sec";
      document.getElementById("upc").textContent = (clickPower * upcMultiplier).toFixed(1) + " Umyums/click";
      document.getElementById("upcTracker").textContent = (clickPower * upcMultiplier).toFixed(1) + " Umyums/click";
      document.getElementById("resurrections").textContent = resurrectionCount;
      updateNews();
    }

    function createUpgrade(name, baseCost, isAuto = false, production = 1) {
      const div = document.createElement("div");
      div.className = isAuto ? "ups" : "upgrade";
      const title = document.createElement("h3");
      title.textContent = name;
      const costDisplay = document.createElement("p");
      costDisplay.textContent = `Cost: ${formatNumber(baseCost)} umyums`;
      const countDisplay = document.createElement("p");
      countDisplay.textContent = `Owned: 0`;
      const button = document.createElement("button");
      button.textContent = "Buy";
      let cost = baseCost;
      let count = 0;
      button.onclick = function () {
        if (umyums >= cost) {
          umyums -= cost;
          if (isAuto) ups += production;
          else clickPower += production;
          cost *= 1.3;
          count++;
          costDisplay.textContent = `Cost: ${formatNumber(cost)} umyums`;
          countDisplay.textContent = `Owned: ${count}`;
          updateDisplay();
        }
      };
      div.appendChild(title);
      div.appendChild(costDisplay);
      div.appendChild(countDisplay);
      div.appendChild(button);
      document.getElementById(isAuto ? "autoUpgrades" : "clickUpgrades").appendChild(div);
    }

    const clickUpgradeNames = ["Candy Tapper", "Sugar Smash", "Lick Boost", "Sweet Press"];
    const autoUpgradeNames = ["Candy Machine", "Auto Chewer", "Gumball Gear", "Sugar Synth"];

    clickUpgradeNames.forEach((name, i) => createUpgrade(name, Math.pow(10, i + 1), false, Math.pow(5, i)));
    autoUpgradeNames.forEach((name, i) => createUpgrade(name, Math.pow(10, i + 1), true, 0.1 * Math.pow(5, i)));

    setInterval(() => {
      umyums += ups * upsMultiplier;
      updateDisplay();
    }, 1000);

    function spawnLollipop() {
      const lollipop = document.createElement("div");
      lollipop.className = "lollipop";
      lollipop.style.top = Math.random() * window.innerHeight + "px";
      lollipop.style.left = Math.random() * window.innerWidth + "px";
      lollipop.style.fontSize = "48px";
      lollipop.textContent = Math.random() > 0.5 ? "üêá" : "üê∞";
      lollipop.onclick = () => {
        document.getElementById("multiplierOverlay").style.display = "block";
        if (multiplierTimer) clearTimeout(multiplierTimer);
        upsMultiplier = 7;
        upcMultiplier = 7;
        let timer = 60;
        const timerEl = document.getElementById("multiplierTimer");
        timerEl.textContent = `7x Boost: ${timer}s`;
        const countdown = setInterval(() => {
          timer--;
          timerEl.textContent = `7x Boost: ${timer}s`;
          if (timer <= 0) {
            clearInterval(countdown);
            timerEl.textContent = "";
            document.getElementById("multiplierOverlay").style.display = "none";
            upsMultiplier = 1;
            upcMultiplier = 1;
            updateDisplay();
          }
        }, 1000);
        lollipop.remove();
      };
      document.body.appendChild(lollipop);
    }

    function dropCandy() {
      const candy = document.createElement("div");
      candy.className = "candy";
      candy.textContent = "üç≠";
      candy.style.left = Math.random() * window.innerWidth + "px";
      document.getElementById("candyContainer").appendChild(candy);
      setTimeout(() => candy.remove(), 6000);
    }

    setInterval(dropCandy, 500);
    setInterval(() => {
      if (!document.querySelector(".lollipop")) spawnLollipop();
    }, (Math.random() * 2 + 3) * 60 * 1000);

    function tryResurrect() {
      const required = 1e21 * Math.pow(2, resurrectionCount);
      if (umyums >= required) {
        const choice = prompt('Choose bonus: type "ups" for 2x UPS or "click" for 2x UPC');
        if (choice === "ups") upsMultiplier *= 2;
        else if (choice === "click") upcMultiplier *= 2;
        umyums = 0;
        ups = 0;
        clickPower = 1;
        resurrectionCount++;
        updateDisplay();
        alert(`Resurrected! ${choice === 'ups' ? 'UPS' : 'UPC'} is now doubled.`);
      } else {
        alert(`You need ${formatNumber(required)} umyums to resurrect.`);
      }
    }

    let currentNews = "Welcome to Umyum Clicker!";
    function updateNews() {
      for (let i = newsLines.length - 1; i >= 0; i--) {
        if (umyums >= newsLines[i][0]) {
          if (currentNews !== newsLines[i][1]) {
            currentNews = newsLines[i][1];
            document.getElementById("newsText").textContent = currentNews;
          }
          break;
        }
      }
    }

    updateDisplay();
  </script>
</body>
</html>
